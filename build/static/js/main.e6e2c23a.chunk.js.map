{"version":3,"sources":["panels/Home.js","img/persik.png","panels/Persik.js","components/categories/Categories.js","components/names/Names.js","components/countPlayers/CountPlayers.js","components/roles/Roles.js","components/secretRole/SecretRole.js","components/Timer/Timer.js","App.js","index.js"],"names":["Home","id","go","fetchedUser","count","timer","setTimer","start","e","bridge","send","then","req","console","log","React","useEffect","clock","setInterval","clearInterval","header","mode","before","photo_200","src","description","city","title","first_name","last_name","stretched","size","onClick","Persik","props","left","className","persik","alt","Categories","categories","setCategories","cat","onSubmit","onChange","value","after","hoverMode","stopPropagation","type","Names","setPlayers","place","Math","floor","random","length","label","items","i","itemId","top","class","required","preventDefault","names","target","elements","countSpies","roles","spy","players","CountPlayers","setCount","defaultValue","Roles","counter","SecretRoles","setCounter","path","text","c","Timer","App","useState","scheme","setScheme","activePanel","setActivePanel","setUser","countPlayer","popout","setPopout","a","user","subscribe","detail","data","fetchData","currentTarget","dataset","to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e6e2c23a.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar } from '@vkontakte/vkui';\nimport bridge from \"@vkontakte/vk-bridge\";\n\nfunction Home ({ id, go, fetchedUser, count, timer, setTimer}) {\n\tif (timer > 0) {\n\t\tReact.useEffect(() => {\n\t\t\tconst clock =\n\t\t\t\ttimer > 0 && setInterval(() => setTimer(timer - 1), 1000);\n\t\t\treturn () => clearInterval(clock);\n\t\t}, [timer]);\n\t} else if (timer === 0) {\n\t\tbridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1}).then((req)=>(console.log(req)));\n\t}\n\tfunction start(e) {\n\t\tsetTimer(-1);\n\t\tbridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0}).then((req)=>(console.log(req)));\n\t\tconsole.log(timer);\n\t\tcount = 0;\n\t\tgo(e);\n\t}\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader>Example</PanelHeader>\n\t\t\t{fetchedUser &&\n\t\t\t<Group header={<Header mode=\"secondary\">User Data Fetched with VK Bridge</Header>}>\n\t\t\t\t<Cell\n\t\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t\t>\n\t\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t\t</Cell>\n\t\t\t</Group>}\n\n\t\t\t<Group header={<Header mode=\"secondary\">Navigation Example</Header>}>\n\t\t\t\t<Div>\n\t\t\t\t\t<Button stretched size=\"l\" mode=\"secondary\" onClick={start} data-to=\"categories\">\n\t\t\t\t\t\tCategories\n\t\t\t\t\t</Button>\n\t\t\t\t</Div>\n\t\t\t\t<Div>\n\t\t\t\t\t<Button stretched size=\"l\" mode=\"secondary\" onClick={start} data-to=\"countPlayers\">\n\t\t\t\t\t\tStart game\n\t\t\t\t\t</Button>\n\t\t\t\t</Div>\n\t\t\t\t<Div>\n\t\t\t\t\t<Button stretched size=\"l\" mode=\"secondary\" onClick={go} data-to=\"timer\" count={count} timer={timer} setTimer={setTimer}>\n\t\t\t\t\t\tTimer\n\t\t\t\t\t</Button>\n\t\t\t\t</Div>\n\t\t\t</Group>\n\t\t</Panel>\n\t);\n}\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n\tcount: PropTypes.number.isRequired,\n\ttimer: PropTypes.number.isRequired,\n\tsetTimer: PropTypes.func.isRequired,\n\t// categories: PropTypes.array.isRequired,\n};\n\nexport default Home;\n","export default __webpack_public_path__ + \"static/media/persik.ae9f0072.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Panel, PanelHeader, PanelHeaderBack } from '@vkontakte/vkui';\n\nimport persik from '../img/persik.png';\nimport './Persik.css';\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderBack onClick={props.go} data-to=\"home\"/>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n    Button,\r\n    ChipsInput,\r\n    FormItem, FormLayout,\r\n    Group,\r\n    Header,\r\n    IconButton,\r\n    Panel,\r\n    PanelHeader,\r\n    PanelHeaderBack\r\n} from \"@vkontakte/vkui\";\r\nimport './Categories.css'\r\nimport {Icon16Clear} from \"@vkontakte/icons\";\r\n\r\nfunction Categories ({id, go, categories, setCategories}) {\r\n    console.log(categories)\r\n    let cat = categories;\r\n    const confirm = (e) => {\r\n        setCategories(cat);\r\n        go(e);\r\n    };\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to=\"home\" count={0}/>}\r\n            >\r\n                Categories\r\n            </PanelHeader>\r\n            <FormLayout className=\"categories\" data-to=\"home\" count={0} onSubmit={confirm}>\r\n                <FormItem>\r\n                    <ChipsInput onChange={(e)=> {\r\n                        cat = e\r\n                        console.log(cat)\r\n                    }}\r\n                        value={categories}\r\n                        after={\r\n                            <IconButton\r\n                                hoverMode=\"opacity\"\r\n                                aria-label=\"Очистить поле\"\r\n                                onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    setCategories([]);\r\n                                }}\r\n                            >\r\n                                <Icon16Clear />\r\n                            </IconButton>\r\n                        }/>\r\n                </FormItem>\r\n                <Button type=\"submit\">Confirm</Button>\r\n            </FormLayout>\r\n            {/*<Group className=\"categories\">*/}\r\n            {/*    <Header mode=\"primary\">Церковь</Header>*/}\r\n            {/*    <Header mode=\"primary\"> Бар </Header>*/}\r\n            {/*    <Header mode=\"primary\"> Цирк </Header>*/}\r\n            {/*    <Header mode=\"primary\"> Больница</Header>*/}\r\n            {/*    <Header mode=\"primary\"> Вездекод</Header>*/}\r\n            {/*</Group>*/}\r\n        </Panel>\r\n    );\r\n}\r\n\r\nCategories.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    categories: PropTypes.array.isRequired,\r\n    setCategories: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Categories;","import {Button, FormItem, FormLayout, Input, Panel, PanelHeader, PanelHeaderBack} from \"@vkontakte/vkui\";\r\nimport React, {useState} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Names.css\"\r\n\r\nfunction Names ({id, go, count, setPlayers, categories}) {\r\n    let cat = Math.floor(Math.random() * (categories.length));\r\n    let place = categories[cat].label\r\n    console.log(place)\r\n    let items = [];\r\n    for (let i = 0; i < count; i++) {\r\n        let itemId = \"name\" + i\r\n        items[i] = (\r\n            <FormItem top=\"Enter name\" id=\"nameItem\">\r\n                <Input id={itemId} class=\"name\" type=\"text\" required=\"required\"/>\r\n            </FormItem>\r\n        );\r\n    };\r\n    function sub(e) {\r\n        e.preventDefault();\r\n        let names = [];\r\n        for (let i = 0; i < count; i++) {\r\n            let itemId = \"name\" + i\r\n            names[i] = e.target.elements[itemId].value\r\n        };\r\n        console.log(names)\r\n        let countSpies = Math.floor(names.length / 4);\r\n        let roles = []\r\n        for (let i = 0; i < names.length; i++) {\r\n            roles[i] = place\r\n        }\r\n        console.log(roles)\r\n        for (let i = 0; i < countSpies; i++) {\r\n            let spy = Math.floor(Math.random() * (names.length));\r\n            if (roles[spy] === \"spy\") {\r\n                i--;\r\n            } else {\r\n                roles[spy] = \"spy\";\r\n            }\r\n        }\r\n        console.log(roles)\r\n        let players = []\r\n        for (let i = 0; i < names.length; i++) {\r\n            players[i] = {label: names[i], value: roles[i]}\r\n        }\r\n        console.log(players)\r\n        setPlayers(players)\r\n        go(e);\r\n    }\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to=\"home\"/>}\r\n            >\r\n                Name\r\n            </PanelHeader>\r\n            <FormLayout id=\"namesForm\" onSubmit={sub} data-to=\"role\">\r\n                {items}\r\n                <Button type=\"submit\" className=\"submitButton\">\r\n                    Submit\r\n                </Button>\r\n            </FormLayout>\r\n        </Panel>\r\n    );\r\n}\r\n\r\nNames.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    count: PropTypes.number.isRequired,\r\n    setPlayers: PropTypes.func.isRequired,\r\n    categories: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default Names;","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n    Button,\r\n    Div,\r\n    FormItem,\r\n    FormLayout,\r\n    Group,\r\n    Header,\r\n    Input,\r\n    Panel,\r\n    PanelHeader,\r\n    PanelHeaderBack\r\n} from \"@vkontakte/vkui\";\r\nimport './CountPlayers.css'\r\n\r\n\r\nfunction CountPlayers ({id, go, setCount}) {\r\n    const sub = e => {\r\n        e.preventDefault();\r\n        setCount(e.target.elements.count.value);\r\n        go(e);\r\n    };\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to=\"home\"/>}\r\n            >\r\n                Names\r\n            </PanelHeader>\r\n            <FormLayout onSubmit={sub} data-to=\"playersNames\">\r\n                <FormItem top=\"Enter count of players\" id=\"countItem\">\r\n                    <Input id=\"count\" type=\"text\" defaultValue=\"4\" />\r\n                </FormItem>\r\n                <Button type=\"submit\" className=\"submitButton\">\r\n                    Submit\r\n                </Button>\r\n            </FormLayout>\r\n            {/*<Div>*/}\r\n            {/*    <Button stretched size=\"l\" mode=\"secondary\" data-to='playersNames'>*/}\r\n            {/*        Start game*/}\r\n            {/*    </Button>*/}\r\n            {/*</Div>*/}\r\n        </Panel>\r\n    );\r\n}\r\n\r\nCountPlayers.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    setCount: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CountPlayers;","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {Button, Group, Header, Panel, PanelHeader, PanelHeaderBack} from \"@vkontakte/vkui\";\r\nimport './Roles.css'\r\n\r\nfunction Roles ({id, go, players, counter}) {\r\n\r\n    console.log(players)\r\n    function sub(e) {\r\n        e.preventDefault();\r\n        go(e)\r\n    }\r\n\r\n    // setRoles(roles)\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to=\"home\"/>}\r\n            >\r\n                Roles\r\n            </PanelHeader>\r\n            <Header className=\"name\">{players[counter].label}</Header>\r\n            <Button onClick={sub} data-to=\"secretRole\" counter={counter} className=\"button\">Show role</Button>\r\n        </Panel>\r\n    );\r\n}\r\n\r\nRoles.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    players: PropTypes.array.isRequired,\r\n    counter: PropTypes.number.isRequired,\r\n    // setTimer: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Roles;","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {Button, Group, Header, Panel, PanelHeader, PanelHeaderBack} from \"@vkontakte/vkui\";\r\nimport './SecretRole.css'\r\n\r\nfunction SecretRoles ({id, go, players, counter, setCounter, setTimer}) {\r\n    console.log(counter)\r\n    let path = \"role\";\r\n    let text = \"Next player\";\r\n    let c = counter + 1;\r\n    if (counter + 1 === players.length) {\r\n        path = \"timer\";\r\n        console.log(path)\r\n        text = \"start\";\r\n        c = 0;\r\n    };\r\n    function sub(e) {\r\n        e.preventDefault();\r\n        setCounter(c)\r\n        go(e);\r\n    }\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to=\"home\"/>}\r\n            >\r\n                Roles\r\n            </PanelHeader>\r\n            <Header className=\"role\">{players[counter].value}</Header>\r\n            <Button onClick={sub} data-to={path} counter={c} count={players.length} className=\"button\">{text}</Button>\r\n        </Panel>\r\n    );\r\n}\r\n\r\nSecretRoles.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    players: PropTypes.array.isRequired,\r\n    counter: PropTypes.number.isRequired,\r\n    setCounter: PropTypes.func.isRequired,\r\n    setTimer: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SecretRoles;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Home from \"../../panels/Home\";\r\nimport {Div, Header, Panel, PanelHeader, PanelHeaderBack} from \"@vkontakte/vkui\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nfunction Timer({id, go, count, timer, setTimer}) {\r\n    console.log(timer)\r\n    if (timer === -1) {\r\n        setTimer(20 * count);\r\n        bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0}).then((req)=>(console.log(req)));\r\n    }\r\n    React.useEffect(() => {\r\n        const clock =\r\n            timer > 0 && setInterval(() => setTimer(timer - 1), 1000);\r\n        return () => clearInterval(clock);\r\n    }, [timer]);\r\n    if (timer === 0) {\r\n        bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1}).then((req)=>(console.log(req)));\r\n    }\r\n\r\n    return (\r\n        <Panel id={id} className=\"App\">\r\n            <PanelHeader\r\n                left={<PanelHeaderBack onClick={go} data-to=\"home\" timer={timer} setTimer={setTimer}/>}\r\n            >\r\n                Timer\r\n            </PanelHeader>\r\n            <Header>Countdown: {timer}</Header>\r\n        </Panel>\r\n    );\r\n}\r\n\r\n\r\nTimer.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    count: PropTypes.number.isRequired,\r\n    timer: PropTypes.number.isRequired,\r\n    setTimer: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Timer;","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot, ConfigProvider, SplitLayout, SplitCol } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\nimport Categories from \"./components/categories/Categories\";\nimport Names from \"./components/names/Names\";\nimport CountPlayers from \"./components/countPlayers/CountPlayers\";\nimport Roles from \"./components/roles/Roles\";\nimport SecretRoles from \"./components/secretRole/SecretRole\";\nimport Timer from \"./components/Timer/Timer\";\n\nconst App = () => {\n\tconst [scheme, setScheme] = useState('bright_light')\n\tconst [timer, setTimer] = useState(-1)\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [countPlayer, setCount] = useState(4);\n\tconst [players, setPlayers] = useState([]);\n\tconst [counter, setCounter] = useState(0);\n\t// const [place, setPlace] = useState(\"Vezdekod\");\n\tconst [categories, setCategories] = useState([{value: \"church\", label: \"Церковь\"},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{value: \"bar\", label: \"Бар\"},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{value: \"circus\", label: \"Цирк\"},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{value: \"hospital\", label: \"Больница\"},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{value: \"Vezdekod\", label: \"Вездекод\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ]);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tsetScheme(data.scheme)\n\t\t\t}\n\t\t});\n\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<ConfigProvider scheme={scheme}>\n\t\t\t<AdaptivityProvider>\n\t\t\t\t<AppRoot>\n\t\t\t\t\t<SplitLayout popout={popout}>\n\t\t\t\t\t\t<SplitCol>\n\t\t\t\t\t\t\t<View activePanel={activePanel}>\n\t\t\t\t\t\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} count={players.length} timer={timer} setTimer={setTimer}/>\n\t\t\t\t\t\t\t\t<Categories id='categories' go={go} categories={categories} setCategories={setCategories}/>\n\t\t\t\t\t\t\t\t<CountPlayers id='countPlayers' go={go} setCount={setCount} />\n\t\t\t\t\t\t\t\t<Persik id='persik' go={go} />\n\t\t\t\t\t\t\t\t<Names id='playersNames' go={go} count={countPlayer} setPlayers={setPlayers} categories={categories}/>\n\t\t\t\t\t\t\t\t<Roles id='role' go={go} players={players} counter={counter}/>\n\t\t\t\t\t\t\t\t<SecretRoles id='secretRole' go={go} players={players} counter={counter} setCounter={setCounter} setTimer={setTimer}/>\n\t\t\t\t\t\t\t\t<Timer id=\"timer\" go={go} count={players.length} timer={timer} setTimer={setTimer}/>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</SplitCol>\n\t\t\t\t\t</SplitLayout>\n\t\t\t\t</AppRoot>\n\t\t\t</AdaptivityProvider>\n\t\t</ConfigProvider>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}